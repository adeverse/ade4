<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="The mixed-variables coefficient of distance generalizes Gower's general coefficient of distance 
to allow the treatment of various statistical types of variables when calculating distances.
This is especially important when measuring functional diversity. Indeed, most of the indices that
measure functional diversity depend on variables (traits) that have various statistical types (e.g. circular, 
fuzzy, ordinal) and that go through a matrix of distances among species."><title>Mixed-variables coefficient of distance — dist.ktab • ade4</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Mixed-variables coefficient of distance — dist.ktab"><meta property="og:description" content="The mixed-variables coefficient of distance generalizes Gower's general coefficient of distance 
to allow the treatment of various statistical types of variables when calculating distances.
This is especially important when measuring functional diversity. Indeed, most of the indices that
measure functional diversity depend on variables (traits) that have various statistical types (e.g. circular, 
fuzzy, ordinal) and that go through a matrix of distances among species."><meta property="og:image" content="/logo.svg"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">ade4</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.7-22</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-new-to-ade-">New to ade4?</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-new-to-ade-">
    <a class="dropdown-item" href="../articles/install.html">Installation</a>
    <a class="dropdown-item" href="../articles/get_started.html">Getting started</a>
  </div>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-vignettes">Vignettes</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-vignettes">
    <a class="dropdown-item" href="../articles/ChapEnvVarStruct.html">Environmental variables structures</a>
    <a class="dropdown-item" href="../articles/ChapSpeciesStruct.html">Species structures</a>
    <a class="dropdown-item" href="../articles/ChapBetGr.html">Taking into account groups of sites</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/related.html">Related packages</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">News</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-ressources">Ressources</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-ressources">
    <a class="external-link dropdown-item" href="https://lbbe-shiny.univ-lyon1.fr/Reproducible_Research/ShinyADE4/">ade4 shinyapps</a>
    <a class="dropdown-item" href="../articles/faq.html">FAQ</a>
    <a class="external-link dropdown-item" href="https://listes.univ-lyon1.fr/sympa/info/adelist">adelist</a>
    <a class="dropdown-item" href="../articles/book.html">ade4 book</a>
    <a class="dropdown-item" href="../articles/papers.html">Papers</a>
  </div>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://lbbe-web.univ-lyon1.fr/en">
    <span class="fa fa-leaf"></span>
     
    LBBE
  </a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sdray/ade4">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.svg" class="logo" alt=""><h1>Mixed-variables coefficient of distance</h1>
      
      <div class="d-none name"><code>dist.ktab.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The mixed-variables coefficient of distance generalizes Gower's general coefficient of distance 
to allow the treatment of various statistical types of variables when calculating distances.
This is especially important when measuring functional diversity. Indeed, most of the indices that
measure functional diversity depend on variables (traits) that have various statistical types (e.g. circular, 
fuzzy, ordinal) and that go through a matrix of distances among species.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">dist.ktab</span><span class="op">(</span><span class="va">x</span>, <span class="va">type</span>, option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scaledBYrange"</span>, <span class="st">"scaledBYsd"</span>, <span class="st">"noscale"</span><span class="op">)</span>,</span>
<span>scann <span class="op">=</span> <span class="cn">FALSE</span>, tol <span class="op">=</span> <span class="fl">1e-8</span><span class="op">)</span></span>
<span><span class="fu">ldist.ktab</span><span class="op">(</span><span class="va">x</span>, <span class="va">type</span>, option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scaledBYrange"</span>, <span class="st">"scaledBYsd"</span>,</span>
<span><span class="st">"noscale"</span><span class="op">)</span>, scann <span class="op">=</span> <span class="cn">FALSE</span>, tol <span class="op">=</span> <span class="fl">1e-8</span><span class="op">)</span></span>
<span><span class="fu">kdist.cor</span><span class="op">(</span><span class="va">x</span>, <span class="va">type</span>, option <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"scaledBYrange"</span>, <span class="st">"scaledBYsd"</span>, <span class="st">"noscale"</span><span class="op">)</span>,</span>
<span>scann <span class="op">=</span> <span class="cn">FALSE</span>, tol <span class="op">=</span> <span class="fl">1e-8</span>, squared <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu">prep.fuzzy</span><span class="op">(</span><span class="va">df</span>, <span class="va">col.blocks</span>, row.w <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"F"</span>,</span>
<span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">col.blocks</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu">prep.binary</span><span class="op">(</span><span class="va">df</span>, <span class="va">col.blocks</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"B"</span>, <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">col.blocks</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">""</span><span class="op">)</span><span class="op">)</span> </span>
<span><span class="fu">prep.circular</span><span class="op">(</span><span class="va">df</span>, rangemin <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">df</span>, <span class="fl">2</span>, <span class="va">min</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, rangemax <span class="op">=</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span><span class="va">df</span>, <span class="fl">2</span>, <span class="va">max</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>x</dt>
<dd><p>Object of class <code>ktab</code> (see details)</p></dd>

  <dt>type</dt>
<dd><p>Vector that provide the type of each table in x. The possible types are "Q"
(quantitative), "O" (ordinal), "N" (nominal), "D" (dichotomous), "F" (fuzzy, or
expressed as a proportion), "B" (multichoice nominal variables, coded by
binary columns), "C" (circular). Values in type must be in the same order as in x.</p></dd>

  <dt>option</dt>
<dd><p>A string that can have three values: either "scaledBYrange" if the
quantitative variables must be scaled by their range, or "scaledBYsd" if they
must be scaled by their standard deviation, or "noscale" if they should not be
scaled. This last option can be useful if the the values have already been
normalized by the known range of the whole population instead of the
observed range measured on the sample. If x contains data from various types,
then the option "scaledBYsd" is not suitable (a warning will appear if the option selected with that condition).</p></dd>

  <dt>scann</dt>
<dd><p>A logical. If TRUE, then the user will have to choose among several possible
functions of distances for the quantitative, ordinal, fuzzy and binary variables.</p></dd>

  <dt>tol</dt>
<dd><p>A tolerance threshold: a value less than tol is considered as
null.</p></dd>

<dt>squared</dt>
<dd><p>A logical, if TRUE, the squared distances are considered.</p></dd>

<dt>df</dt>
<dd><p>Objet of class data.frame</p></dd>

<dt>col.blocks</dt>
<dd><p>A vector that contains the number of levels per variable (in the same order
as in <code>df</code>)</p></dd>

<dt>row.w</dt>
<dd><p>A vector of row weigths</p></dd>

<dt>labels</dt>
<dd><p>the names of the traits</p></dd>

<dt>rangemin</dt>
<dd><p>A numeric corresponding to the smallest level where the loop starts</p></dd>

<dt>rangemax</dt>
<dd><p>A numeric corresponding to the highest level where the loop closes</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>The functions provide the following results:</p>
<dl><dt>dist.ktab</dt>
<dd><p>returns an object of class <code>dist</code>;</p></dd>

    <dt>ldist.ktab</dt>
<dd><p>returns a list of objects of class <code>dist</code> that correspond to the distances between species calculated per trait;</p></dd>

    <dt>kdist.cor</dt>
<dd><p>returns a list of three objects: "paircov" provides the covariance 
    between traits in terms of (squared) distances between species;
    "paircor" provides the correlations between traits in terms of (squared) distances between species;
    "glocor" provides the correlations between the (squared) distances obtained for each trait and the global (squared) distances
    obtained by mixing all the traits (= contributions of traits to the global distances);</p></dd>

    <dt>prep.binary and prep.fuzzy</dt>
<dd><p>returns a data frame with the following attributes: col.blocks
    specifies the number of columns per fuzzy variable; col.num specifies which variable
    each column belongs to;</p></dd>

    <dt>prep.circular</dt>
<dd><p>returns a data frame with the following attributes: max specifies the number
    of levels in each circular variable.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Pavoine S., Vallet, J., Dufour, A.-B., Gachet, S. and Daniel, H. (2009) 
On the challenge of treating various types of variables: 
Application for improving the measurement of functional diversity. <em>Oikos</em>, <b>118</b>, 391--402. <a href="https://doi.org/10.1111/j.1600-0706.2008.16668.x" class="external-link">doi:10.1111/j.1600-0706.2008.16668.x</a></p>
<p>Appendix available at: 
<a href="http://www.oikosjournal.org/sites/oikosjournal.org/files/appendix/o16668.pdf" class="external-link">http://www.oikosjournal.org/sites/oikosjournal.org/files/appendix/o16668.pdf</a>
<a href="http://www.oikosjournal.org/sites/oikosjournal.org/files/appendix/o16668_files.zip" class="external-link">http://www.oikosjournal.org/sites/oikosjournal.org/files/appendix/o16668_files.zip</a></p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Sandrine Pavoine <a href="mailto:pavoine@mnhn.fr">pavoine@mnhn.fr</a></p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>When preparing the object of class <code>ktab</code> (object x), variables of type "Q", "O", "D", "F", "B" and "C" should be of class <code>numeric</code> (the class <code>ordered</code> is not yet considered by <code>dist.ktab</code>); variables of type "N" should be of class <code>character</code> or <code>factor</code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="https://rdrr.io/pkg/cluster/man/daisy.html" class="external-link">daisy</a></code> in the case of ratio-scale (quantitative) and nominal variables;
and <code><a href="woangers.html">woangers</a></code> for an application.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># With fuzzy variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">bsetal97</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">w</span> <span class="op">&lt;-</span> <span class="fu">prep.fuzzy</span><span class="op">(</span><span class="va">bsetal97</span><span class="op">$</span><span class="va">biol</span>, <span class="va">bsetal97</span><span class="op">$</span><span class="va">biol.blo</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">w</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">10</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    size.1 size.2 size.3 size.4 size.5 size.6 size.7 egglen.1 egglen.2 egglen.3</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E1      0      0      0      1      0   0.00   0.00        0        0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E2     NA     NA     NA     NA     NA     NA     NA        0        0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E3      0      1      0      0      0   0.00   0.00        0        0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E4      0      0      0      1      0   0.00   0.00        0        0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E5      0      0      0      0      0   0.25   0.75        0        0        0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E6      0      0      0      0      0   0.50   0.50        0        0        0</span>
<span class="r-in"><span><span class="va">ktab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ktab.list.df.html">ktab.list.df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">w</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">dis</span> <span class="op">&lt;-</span> <span class="fu">dist.ktab</span><span class="op">(</span><span class="va">ktab1</span>, type <span class="op">=</span> <span class="st">"F"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">dis</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>           E1        E2        E3        E4        E5</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E1 0.0000000 0.6947589 0.5947593 0.4008332 0.6487069</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E2 0.6947589 0.0000000 0.6401753 0.6689944 0.5623047</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E3 0.5947593 0.6401753 0.0000000 0.7107262 0.6289859</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E4 0.4008332 0.6689944 0.7107262 0.0000000 0.5244575</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> E5 0.6487069 0.5623047 0.6289859 0.5244575 0.0000000</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="co"># With ratio-scale and multichoice variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">ecomor</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">wM</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log</a></span><span class="op">(</span><span class="va">ecomor</span><span class="op">$</span><span class="va">morpho</span> <span class="op">+</span> <span class="fl">1</span><span class="op">)</span> <span class="co"># Quantitative variables</span></span></span>
<span class="r-in"><span><span class="va">wD</span> <span class="op">&lt;-</span> <span class="va">ecomor</span><span class="op">$</span><span class="va">diet</span></span></span>
<span class="r-in"><span><span class="co"># wD is a data frame containing a multichoice nominal variable</span></span></span>
<span class="r-in"><span><span class="co"># (diet habit), with 8 modalities (Granivorous, etc)</span></span></span>
<span class="r-in"><span><span class="co"># We must prepare it by prep.binary</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">wD</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wD</span> <span class="op">&lt;-</span> <span class="fu">prep.binary</span><span class="op">(</span><span class="va">wD</span>, col.blocks <span class="op">=</span> <span class="fl">8</span>, label <span class="op">=</span> <span class="st">"diet"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wF</span> <span class="op">&lt;-</span> <span class="va">ecomor</span><span class="op">$</span><span class="va">forsub</span></span></span>
<span class="r-in"><span><span class="co"># wF is also a data frame containing a multichoice nominal variable</span></span></span>
<span class="r-in"><span><span class="co"># (foraging substrat), with 6 modalities (Foliage, etc)</span></span></span>
<span class="r-in"><span><span class="co"># We must prepare it by prep.binary</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">wF</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wF</span> <span class="op">&lt;-</span> <span class="fu">prep.binary</span><span class="op">(</span><span class="va">wF</span>, col.blocks <span class="op">=</span> <span class="fl">6</span>, label <span class="op">=</span> <span class="st">"foraging"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># Another possibility is to combine the two last data frames wD and wF as</span></span></span>
<span class="r-in"><span><span class="co"># they contain the same type of variables</span></span></span>
<span class="r-in"><span><span class="va">wB</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">cbind.data.frame</a></span><span class="op">(</span><span class="va">ecomor</span><span class="op">$</span><span class="va">diet</span>, <span class="va">ecomor</span><span class="op">$</span><span class="va">forsub</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">wB</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">wB</span> <span class="op">&lt;-</span> <span class="fu">prep.binary</span><span class="op">(</span><span class="va">wB</span>, col.blocks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8</span>, <span class="fl">6</span><span class="op">)</span>, label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"diet"</span>, <span class="st">"foraging"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The results given by the two alternatives are identical</span></span></span>
<span class="r-in"><span><span class="va">ktab2</span> <span class="op">&lt;-</span> <span class="fu"><a href="ktab.list.df.html">ktab.list.df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">wM</span>, <span class="va">wD</span>, <span class="va">wF</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">disecomor</span> <span class="op">&lt;-</span> <span class="fu">dist.ktab</span><span class="op">(</span><span class="va">ktab2</span>, type<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Q"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">disecomor</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">contrib2</span> <span class="op">&lt;-</span> <span class="fu">kdist.cor</span><span class="op">(</span><span class="va">ktab2</span>, type<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Q"</span>, <span class="st">"B"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">contrib2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">ktab3</span> <span class="op">&lt;-</span> <span class="fu"><a href="ktab.list.df.html">ktab.list.df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">wM</span>, <span class="va">wB</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">disecomor2</span> <span class="op">&lt;-</span> <span class="fu">dist.ktab</span><span class="op">(</span><span class="va">ktab3</span>, type<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Q"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="va">disecomor2</span><span class="op">)</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">contrib3</span> <span class="op">&lt;-</span> <span class="fu">kdist.cor</span><span class="op">(</span><span class="va">ktab3</span>, type<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Q"</span>, <span class="st">"B"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">contrib3</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># With a range of variables</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">woangers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">traits</span> <span class="op">&lt;-</span> <span class="va">woangers</span><span class="op">$</span><span class="va">traits</span></span></span>
<span class="r-in"><span><span class="co"># Nominal variables 'li', 'pr', 'lp' and 'le'</span></span></span>
<span class="r-in"><span><span class="co"># (see table 1 in the main text for the codes of the variables)</span></span></span>
<span class="r-in"><span><span class="va">tabN</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fl">7</span>, <span class="fl">8</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># Circular variable 'fo'</span></span></span>
<span class="r-in"><span><span class="va">tabC</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">tabCp</span> <span class="op">&lt;-</span> <span class="fu">prep.circular</span><span class="op">(</span><span class="va">tabC</span>, <span class="fl">1</span>, <span class="fl">12</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The levels of the variable lie between 1 (January) and 12 (December).</span></span></span>
<span class="r-in"><span><span class="co"># Ordinal variables 'he', 'ae' and 'un'</span></span></span>
<span class="r-in"><span><span class="va">tabO</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span>, <span class="fl">4</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="co"># Fuzzy variables 'mp', 'pe' and 'di'</span></span></span>
<span class="r-in"><span><span class="va">tabF</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span>, <span class="fl">9</span><span class="op">:</span><span class="fl">19</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">tabFp</span> <span class="op">&lt;-</span> <span class="fu">prep.fuzzy</span><span class="op">(</span><span class="va">tabF</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"mp"</span>, <span class="st">"pe"</span>, <span class="st">"di"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># 'mp' has 3 levels, 'pe' has 3 levels and 'di' has 5 levels.</span></span></span>
<span class="r-in"><span><span class="co"># Quantitative variables 'lo' and 'lf'</span></span></span>
<span class="r-in"><span><span class="va">tabQ</span> <span class="op">&lt;-</span> <span class="va">traits</span><span class="op">[</span>, <span class="fl">20</span><span class="op">:</span><span class="fl">21</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">ktab1</span> <span class="op">&lt;-</span> <span class="fu"><a href="ktab.list.df.html">ktab.list.df</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">tabN</span>, <span class="va">tabCp</span>, <span class="va">tabO</span>, <span class="va">tabFp</span>, <span class="va">tabQ</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">distrait</span> <span class="op">&lt;-</span> <span class="fu">dist.ktab</span><span class="op">(</span><span class="va">ktab1</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"C"</span>, <span class="st">"O"</span>, <span class="st">"F"</span>, <span class="st">"Q"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="is.euclid.html">is.euclid</a></span><span class="op">(</span><span class="va">distrait</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">contrib</span> <span class="op">&lt;-</span> <span class="fu">kdist.cor</span><span class="op">(</span><span class="va">ktab1</span>, type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"N"</span>, <span class="st">"C"</span>, <span class="st">"O"</span>, <span class="st">"F"</span>, <span class="st">"Q"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">contrib</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/graphics/dotchart.html" class="external-link">dotchart</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span><span class="va">contrib</span><span class="op">$</span><span class="va">glocor</span><span class="op">)</span>, labels <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">rownames</a></span><span class="op">(</span><span class="va">contrib</span><span class="op">$</span><span class="va">glocor</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">contrib</span><span class="op">$</span><span class="va">glocor</span><span class="op">[</span>, <span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Stéphane Dray, Anne-Béatrice Dufour, Jean Thioulouse, Aurélie Siberchicot.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

